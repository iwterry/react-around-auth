{"version":3,"sources":["contexts/CurrentUserContext.js","images/header-vector.svg","components/Nav.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/Popup.js","components/ImagePopup.js","utils/utils.js","components/Form.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmationPromptPopup.js","utils/Api.js","utils/appDataApi.js","utils/appAuthApi.js","images/profile-avatar.jpg","components/RegisterOrLogin.js","components/Register.js","components/InfoTooltip.js","components/Login.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Nav","props","isHamburgerMenuShown","isUserLoggedIn","isCloseBtnShown","userEmail","onSignOut","isUserOnRegistrationPage","isUserOnLoginPage","className","to","onClick","Header","otherProps","useState","isMobileNavOpen","setIsMobileNavOpen","handleToggleMobileNav","src","logo","alt","Card","card","onCardSelect","onCardLike","onCardDelete","currentUser","useContext","numLikes","likes","length","isCurrentUserTheOwnerOfCard","owner","_id","isCardLikedByCurrentUser","some","someUser","deleteBtnClassName","likeBtnClassName","type","aria-label","link","name","Main","onEditAvatar","onAddPlace","onEditProfile","cards","avatar","about","map","Footer","Popup","children","isOpen","onClose","additionalCssClassesStr","OPENED_OVERLAY_CSS_CLASS","target","classList","contains","ImagePopup","logErrors","err","console","log","getInputErrors","errors","inputElement","errs","validity","valid","validationMessage","getInputFieldErrorClassName","fieldErrors","fieldName","isErrorShown","inputErrorBlockElement","Form","title","submitBtnClassName","isSubmitBtnDisabled","submitBtnText","onSubmit","noValidate","disabled","PopupWithForm","EditProfilePopup","onUpdateUser","isUpdatingProfile","setName","description","setDescription","setErrors","setIsSubmitBtnDisabled","fieldNames","nameFieldErrorClassName","descriptionFieldErrorClassName","checkIfSubmitBtnShouldBeDisabled","hasInvalidInput","handleInputChange","value","handleBlur","useEffect","evt","preventDefault","placeholder","minLength","maxLength","onChange","onBlur","required","EditAvatarPopup","onUpdateAvatar","isUpdatingAvatar","setAvatar","error","setError","hasUserChangedInput","setHasUserChangedInput","PROFILE_AVATAR_FIELD_NAME","avatarFieldErrorClassName","hasOwnProperty","validateInput","avatarInputElement","AddPlacePopup","isCreatingPlace","setTitle","setLink","titleFieldErrorClassName","linkFieldErrorClassName","ConfirmationPromptPopup","onConfirmation","isDeletingAfterConfirming","Api","baseUrl","headers","this","_baseUrl","_headers","relativePathFromBase","method","additionalHeaderProps","body","init","url","fetch","then","res","ok","json","Promise","reject","status","appDataApi","fetchData","JSON","stringify","cardId","avatarLink","isLiking","authorization","appAuthApi","email","password","token","RegisterOrLogin","onRegisterOrLogin","redirectionInfo","isRegisteringOrLoggingIn","setEmail","setPassword","emailFieldErrorClassName","passwordFieldErrorClassName","trim","Register","onRegister","isRegistering","onRegistrationPage","InfoTooltip","iconType","Login","isLoggingIn","onLogin","onLoginPage","ProtectedRoute","Component","otherPropsGiven","path","isLoggedIn","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","defaultAvatar","setCurrentUser","setCards","idOfCardToBeDeleted","setIdOfCardToBeDeleted","setIsUpdatingAvatar","setIsUpdatingProfile","setIsCreatingPlace","setIsDeletingAfterConfirming","setUserEmail","isRegistrationError","setIsRegistrationError","isRegistrationSuccess","setIsRegistrationSuccess","setIsRegistering","setIsUserOnRegistrationPage","setIsLoggingIn","setIsLoggedIn","setIsUserOnLoginPage","history","useHistory","closeAllPopups","handleClosingAllPopupsUsingEscKey","key","redirectWhenUserIsLoggedIn","document","addEventListener","removeEventListener","getUserProfile","catch","getInitialCards","localStorage","getItem","undefined","getEmail","data","Provider","removeItem","push","signin","setItem","finally","signup","id","cardName","cardLink","clickedCardId","isClickedCardLikedAlreadyByUser","updateCardLikes","updatedCard","updatedCards","updateUserProfile","createCard","newCard","deleteCard","filter","aCard","updateUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"0OAIeA,EAFYC,IAAMC,gB,QCFlB,MAA0B,0C,OC+B1BC,MA5Bf,SAAaC,GAAQ,IAEjBC,EAOED,EAPFC,qBACAC,EAMEF,EANFE,eACAC,EAKEH,EALFG,gBACAC,EAIEJ,EAJFI,UACAC,EAGEL,EAHFK,UACAC,EAEEN,EAFFM,yBACAC,EACEP,EADFO,kBAEF,OACE,qBAAKC,UAAS,cAASP,EAAuB,gCAAkC,IAAhF,SACE,qBAAIO,UAAU,aAAd,UACE,qBAAIA,UAAS,oBAAeN,EAAiB,mBAAqB,GAArD,YAA2DC,EAAkB,6BAA8B,IAAxH,UACE,mBAAGK,UAAU,mBAAb,SAAiCJ,IACjC,cAAC,IAAD,CAAMK,GAAG,IAAID,UAAU,YAAYE,QAASL,EAA5C,wBAEF,oBAAIG,UAAS,qBAAgBN,GAAkBI,EAA2B,mBAAqB,IAA/F,SACE,cAAC,IAAD,CAAMG,GAAG,UAAUD,UAAU,YAA7B,sBAEF,oBAAIA,UAAS,qBAAgBN,GAAkBK,EAAoB,mBAAqB,IAAxF,SACE,cAAC,IAAD,CAAME,GAAG,UAAUD,UAAU,YAA7B,6BCoBKG,MAvCf,SAAgBX,GAAQ,IACdE,EAAkCF,EAAlCE,eAAmBU,EADN,YACqBZ,EADrB,sBAE0BH,IAAMgB,UAAS,GAFzC,mBAEbC,EAFa,KAEIC,EAFJ,KAIfd,GAAwBa,GAAmBZ,EAC3CC,EAAkBW,GAAmBZ,EAE3C,SAASc,IACPD,GAAoBD,GAGtB,OACE,yBAAQN,UAAS,iBAAYN,EAAiB,0BAA4B,IAA1E,UACE,sBAAKM,UAAS,0BAAqBN,EAAiB,mCAAqC,IAAzF,UACE,qBAAKe,IAAKC,EAAMC,IAAI,kBAAkBX,UAAU,mBAChD,sBACEA,UAAS,iCAA4BP,EAAuB,gCAAkC,IAC9FS,QAASM,EAFX,UAIE,qBAAKR,UAAU,gCACf,qBAAKA,UAAU,gCACf,qBAAKA,UAAU,mCAEjB,wBACEA,UAAS,gCAA2BL,EAAkB,+BAAiC,IACvFO,QAASM,OAGb,cAAC,EAAD,aACEd,eAAgBA,EAChBY,gBAAiBA,EACjBX,gBAAiBA,EACjBF,qBAAsBA,GAClBW,QCsBGQ,MAzDf,SAAcpB,GAAQ,IACZqB,EAAiDrB,EAAjDqB,KAAMC,EAA2CtB,EAA3CsB,aAAcC,EAA6BvB,EAA7BuB,WAAYC,EAAiBxB,EAAjBwB,aAClCC,EAAc5B,IAAM6B,WAAW9B,GAE/B+B,EAAWN,EAAKO,MAAMC,OACtBC,EAA8BT,EAAKU,MAAMC,MAAQP,EAAYO,IAC7DC,EAA2BZ,EAAKO,MAAMM,MAAK,SAACC,GAAD,OAAcA,EAASH,MAAQP,EAAYO,OAEtFI,EAAqB,wBACxBN,EAA8B,+BAAiC,IAC5DO,EAAmB,sBACtBJ,EAA2B,6BAA+B,IAgB7D,OACE,qBAAIzB,UAAU,WAAd,UACE,wBACE8B,KAAK,SACLC,aAAW,SACX/B,UAAW4B,EACX1B,QAXN,WACEc,EAAaH,EAAKW,QAYhB,qBACEf,IAAKI,EAAKmB,KACVrB,IAAKE,EAAKoB,KACVjC,UAAU,kBACVE,QAzBN,WACEY,EAAaD,EAAKW,IAAKX,EAAKoB,KAAMpB,EAAKmB,SA0BrC,sBAAKhC,UAAU,4BAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCa,EAAKoB,OACrC,sBAAKjC,UAAU,0BAAf,UACE,wBACE8B,KAAK,SACLC,aAAW,OACX/B,UAAW6B,EACX3B,QA9BV,WACEa,EAAWF,EAAKW,IAAKC,MA+Bf,mBAAGzB,UAAU,sBAAb,SAAoCmB,cCF/Be,MA9Cf,SAAc1C,GAAQ,IAElB2C,EAOE3C,EAPF2C,aACAC,EAME5C,EANF4C,WACAC,EAKE7C,EALF6C,cACAvB,EAIEtB,EAJFsB,aACAC,EAGEvB,EAHFuB,WACAC,EAEExB,EAFFwB,aACAsB,EACE9C,EADF8C,MAEIrB,EAAc5B,IAAM6B,WAAW9B,GAErC,OACE,uBAAMY,UAAU,eAAhB,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,0BAAf,UACE,qBAAKS,IAAKQ,EAAYsB,OAAQ5B,IAAI,iBAAiBX,UAAU,oBAC7D,qBAAKA,UAAU,0BAA0BE,QAASiC,OAEpD,sBAAKnC,UAAU,gBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BiB,EAAYgB,OAC3C,wBAAQH,KAAK,SAASC,aAAW,OAAO/B,UAAU,oBAAoBE,QAASmC,IAC/E,mBAAGrC,UAAU,4BAAb,SAA0CiB,EAAYuB,WAExD,wBAAQV,KAAK,SAASC,aAAW,eAAe/B,UAAU,mBAAmBE,QAASkC,OAGxF,yBAASpC,UAAU,YAAnB,SACE,oBAAIA,UAAU,wBAAd,SACCsC,EAAMG,KAAI,YAAwC,IAArCR,EAAoC,EAApCA,KAAMD,EAA8B,EAA9BA,KAAMZ,EAAwB,EAAxBA,MAAOI,EAAiB,EAAjBA,IAAKD,EAAY,EAAZA,MACpC,OACE,cAAC,EAAD,CAEEV,KAAM,CAAEoB,OAAMD,OAAMZ,QAAOI,MAAKD,SAChCT,aAAcA,EACdC,WAAYA,EACZC,aAAcA,GAJTQ,cCzBJkB,MAVf,SAAgBlD,GACd,OACE,wBAAQQ,UAAU,SAAlB,SACE,mBAAGA,UAAU,oBAAb,0CC0BS2C,MA7Bf,SAAenD,GAAQ,IACbyC,EAAgEzC,EAAhEyC,KAAMW,EAA0DpD,EAA1DoD,SAAUC,EAAgDrD,EAAhDqD,OAAQC,EAAwCtD,EAAxCsD,QADZ,EACoDtD,EAA/BuD,+BADrB,MAC6C,GAD7C,EAGdC,EAA2B,iBAOjC,OACE,qBACEhD,UAAS,kBAAa+C,EAAb,YAAwCF,EAASG,EAA2B,IACrF9C,QARJ,YAAiC,EAAV+C,OAEXC,UAAUC,SAASH,IAA2BF,KAIxD,SAIE,sBAAK9C,UAAU,mBAAf,UACE,wBACE8B,KAAK,SACLC,aAAW,QACX/B,UAAS,qDAAgDiC,GACzD/B,QAAS4C,IAGVF,QCJMQ,MAlBf,SAAoB5D,GAAQ,IAClBqB,EAAkBrB,EAAlBqB,KAAMiC,EAAYtD,EAAZsD,QAEd,OACE,cAAC,EAAD,CACEb,KAAK,cACLY,OAAoB,MAAZhC,EAAKW,IACbsB,QAASA,EACTC,wBAAwB,eAJ1B,SAME,yBAAQ/C,UAAU,cAAlB,UACE,qBAAKS,IAAKI,EAAKmB,KAAMrB,IAAKE,EAAKoB,KAAMjC,UAAU,uBAC/C,4BAAYA,UAAU,qBAAtB,SAA4Ca,EAAKoB,aCflD,SAASoB,EAAUC,GACxBC,QAAQC,IAAR,iBAAsBF,IAGjB,SAASG,EAAeC,EAAQC,GACrC,IAAMC,EAAI,eAAQF,GAOlB,OALKC,EAAaE,SAASC,aAGlBF,EAAKD,EAAa1B,MAFzB2B,EAAKD,EAAa1B,MAAQ0B,EAAaI,kBAIlCH,EAGF,SAASI,EAA4BC,EAAaC,EAAWC,GAClE,IAAMC,EAAyB,4BAM/B,OAJ4BA,EAAsB,WAC5CA,EAD4C,kBACZF,IACT,MAA1BD,EAAYC,IAAsBC,EAAlC,WAAqDC,EAArD,WAAuF,ICG7EC,MArBf,SAAc7E,GAAQ,IACZyC,EAA4FzC,EAA5FyC,KAAMqC,EAAsF9E,EAAtF8E,MAAOC,EAA+E/E,EAA/E+E,mBAAoBC,EAA2DhF,EAA3DgF,oBAAqBC,EAAsCjF,EAAtCiF,cAAeC,EAAuBlF,EAAvBkF,SAAU9B,EAAapD,EAAboD,SAEvF,OACE,uBACEX,KAAMA,EACNjC,UAAS,yCAAoCiC,GAC7CyC,SAAUA,EACVC,YAAU,EAJZ,UAME,oBAAI3E,UAAS,uDAAkDiC,GAA/D,SACGqC,IAEF1B,EACD,wBAAQd,KAAK,SAAS9B,UAAWuE,EAAoBK,SAAUJ,EAA/D,SACGC,GAAiB,eCYXI,MAzBf,SAAuBrF,GAAQ,IAE3ByC,EAEEzC,EAFFyC,KAAMqC,EAEJ9E,EAFI8E,MAAO1B,EAEXpD,EAFWoD,SAAUC,EAErBrD,EAFqBqD,OAAQC,EAE7BtD,EAF6BsD,QAC/B4B,EACElF,EADFkF,SAAUF,EACRhF,EADQgF,oBAAqBC,EAC7BjF,EAD6BiF,cAG3BF,EAAqB,iEAA0DtC,IAClFuC,EAAsB,qCAAuC,IAEhE,OACE,cAAC,EAAD,CAAOvC,KAAMA,EAAMY,OAAQA,EAAQC,QAASA,EAA5C,SACE,cAAC,EAAD,CACEb,KAAMA,EACNqC,MAAOA,EACPG,cAAeA,EACfF,mBAAoBA,EACpBC,oBAAqBA,EACrBE,SAAUA,EANZ,SAQG9B,OCyGMkC,MA1Hf,SAA0BtF,GAAQ,IACxBqD,EAAqDrD,EAArDqD,OAAQC,EAA6CtD,EAA7CsD,QAASiC,EAAoCvF,EAApCuF,aAAcC,EAAsBxF,EAAtBwF,kBADR,EAGL3F,IAAMgB,SAAS,IAHV,mBAGvB4B,EAHuB,KAGjBgD,EAHiB,OAIS5F,IAAMgB,SAAS,IAJxB,mBAIvB6E,EAJuB,KAIVC,EAJU,OAKD9F,IAAMgB,SAAS,IALd,mBAKvBqD,EALuB,KAKf0B,EALe,OAMyB/F,IAAMgB,UAAS,GANxC,mBAMvBmE,EANuB,KAMFa,EANE,KAQzBpE,EAAc5B,IAAM6B,WAAW9B,GAE/BkG,EACS,eADTA,EAEgB,sBAEhBC,EAA0BvB,EAC9BN,EACA4B,EACAzC,GAEI2C,EAAiCxB,EACrCN,EACA4B,EACAzC,GAmBF,SAAS4C,IACP,IAAMC,EACJzD,EAAKZ,OAjBuB,GAkB5BY,EAAKZ,OAnBuB,IAoB5B6D,EAAY7D,OAnBgB,GAoB5B6D,EAAY7D,OAnBuB,IAsBrCgE,EAAuBL,GAAqBU,IAAoB7C,GAGlE,SAAS8C,EAAT,GAAwC,IAAX1C,EAAU,EAAVA,OAC3B,OAAOA,EAAOhB,MACZ,KAAKqD,EACHL,EAAQhC,EAAO2C,OACf,MACF,KAAKN,EACHH,EAAelC,EAAO2C,OAI1BR,EAAU3B,EAAeC,EAAQT,IAGnC,SAAS4C,EAAT,GAAiC,IAAX5C,EAAU,EAAVA,OACpBmC,EAAU3B,EAAeC,EAAQT,IACjCwC,IASF,OA7CApG,IAAMyG,WAAU,WACdb,EAAQhE,EAAYgB,MACpBkD,EAAelE,EAAYuB,SAC1B,CAACvB,IAEJ5B,IAAMyG,WAAU,WACdL,MACC,CAACxD,EAAMiD,EAAaF,EAAmBnC,IAuCxC,eAAC,EAAD,CACEZ,KAAK,eACLqC,MAAM,eACNzB,OAAQA,EACRC,QAASA,EACT4B,SAZJ,SAAsBqB,GACpBA,EAAIC,iBACJjB,EAAa9C,EAAMiD,IAWjBV,oBAAqBA,EACrBC,cAAeO,EAAoB,SAAW,OAPhD,UASE,sBAAKhF,UAAU,4EAAf,UACE,uBACE8B,KAAK,OACLC,aAAW,OACXE,KAAMqD,EACNtF,UAAW,kEACXiG,YAAY,OACZC,UAnEwB,EAoExBC,UArEwB,GAsExBP,MAAO3D,EACPmE,SAAUT,EACVU,OAAQR,EACRS,UAAQ,IAEV,mBAAGtG,UAAWuF,EAAd,SAAwC7B,EAAO4B,QAEjD,sBAAKtF,UAAU,4EAAf,UACE,uBACE8B,KAAK,OACLC,aAAW,WACXE,KAAMqD,EACNtF,UAAU,kEACViG,YAAY,WACZC,UAjF+B,EAkF/BC,UAnF+B,IAoF/BP,MAAOV,EACPkB,SAAUT,EACVU,OAAQR,EACRS,UAAQ,IAEV,mBAAGtG,UAAWwF,EAAd,SAA+C9B,EAAO4B,YC5C/CiB,MAzEf,SAAyB/G,GAAQ,IACvBqD,EAAsDrD,EAAtDqD,OAAQC,EAA8CtD,EAA9CsD,QAAS0D,EAAqChH,EAArCgH,eAAgBC,EAAqBjH,EAArBiH,iBADX,EAGApH,IAAMgB,SAAS,IAHf,mBAGtBkC,EAHsB,KAGdmE,EAHc,OAIFrH,IAAMgB,SAAS,IAJb,mBAItBsG,EAJsB,KAIfC,EAJe,OAK0BvH,IAAMgB,UAAS,GALzC,mBAKtBwG,EALsB,KAKDC,EALC,KAOxBC,EAA4B,iBAC5BC,EAA4BhD,EAChC2C,EACAI,EACAlE,GAEI6C,EAAkBiB,EAAMM,eAAeF,GACvCvC,GACHqC,GACDJ,GACAf,IACC7C,EAWH,SAASqE,EAAcvD,GACrBiD,EAASnD,EAAekD,EAAOhD,IAC/B+C,EAAU/C,EAAaiC,OAczB,OACE,cAAC,EAAD,CACE3D,KAAK,qBACLqC,MAAM,yBACNzB,OAAQA,EACRC,QAASA,EACT4B,SA7BJ,SAAsBqB,GACpBA,EAAIC,iBAEJQ,EAAejE,GACfmE,EAAU,KA0BRlC,oBAAqBA,EACrBC,cAAegC,EAAmB,SAAW,OAP/C,SASE,sBAAKzG,UAAU,kFAAf,UACE,uBACE8B,KAAK,MACLC,aAAW,cACXE,KAAM8E,EACN/G,UAAU,wEACViG,YAAY,cACZL,MAAOrD,EACP6D,SA7BR,YAA4D,IAAvBe,EAAsB,EAA9BlE,OAC3ByD,EAAUS,EAAmBvB,OAC7BsB,EAAcC,GAEdL,GAAuB,IA0BjBT,OAvBR,YACEa,EAD4C,EAAxBjE,SAwBdqD,UAAQ,IAEV,mBAAGtG,UAAWgH,EAAd,SAA0CL,EAAMI,0BC0CzCK,MA9Gf,SAAuB5H,GAAQ,IACrBqD,EAAiDrD,EAAjDqD,OAAQC,EAAyCtD,EAAzCsD,QAASV,EAAgC5C,EAAhC4C,WAAYiF,EAAoB7H,EAApB6H,gBADT,EAGAhI,IAAMgB,SAAS,IAHf,mBAGpBiE,EAHoB,KAGbgD,EAHa,OAIFjI,IAAMgB,SAAS,IAJb,mBAIpB2B,EAJoB,KAIduF,EAJc,OAKElI,IAAMgB,SAAS,IALjB,mBAKpBqD,EALoB,KAKZ0B,EALY,OAM4B/F,IAAMgB,UAAS,GAN3C,mBAMpBwG,EANoB,KAMCC,EAND,KAStBxB,EACQ,iBADRA,EAEO,gBAEPkC,EAA2BxD,EAC/BN,EACA4B,EACAzC,GAEI4E,EAA0BzD,EAC9BN,EACA4B,EACAzC,GAEI6C,EACJhC,EAAOuD,eAAe3B,IACtB5B,EAAOuD,eAAe3B,GAElBd,GACHqC,GACDQ,GACA3B,IACC7C,EAiBH,SAAS8C,EAAT,GAAsD,IAAjBhC,EAAgB,EAAxBV,OAC3B,OAAOU,EAAa1B,MAClB,KAAKqD,EACHgC,EAAS3D,EAAaiC,OACtB,MACF,KAAKN,EACHiC,EAAQ5D,EAAaiC,OAIzBkB,GAAuB,GAGzB,SAASjB,EAAT,IAjBA,SAAuBlC,GACrByB,EAAU3B,EAAeC,EAAQC,IAiBjCuD,CAD4C,EAAxBjE,QAKtB,OACE,eAAC,EAAD,CACEhB,KAAK,kBACLqC,MAAM,YACNzB,OAAQA,EACRC,QAASA,EACT4B,SArCJ,SAAsBqB,GACpBA,EAAIC,iBAEJ5D,EAAWkC,EAAOtC,GAElBsF,EAAS,IACTC,EAAQ,KAgCN/C,oBAAqBA,EACrBC,cAAe4C,EAAkB,SAAW,OAP9C,UASE,sBAAKrH,UAAU,+EAAf,UACE,uBACE8B,KAAK,OACLC,aAAW,QACXE,KAAMqD,EACNtF,UAAU,qEACViG,YAAY,QACZC,UAAU,IACVC,UAAU,KACVP,MAAOtB,EACP8B,SAAUT,EACVU,OAAQR,EACRS,UAAQ,IAEV,mBAAGtG,UAAWwH,EAAd,SAAyC9D,EAAO4B,QAElD,sBAAKtF,UAAU,+EAAf,UACE,uBACE8B,KAAK,MACLC,aAAW,aACXE,KAAMqD,EACNtF,UAAU,qEACViG,YAAY,aACZL,MAAO5D,EACPoE,SAAUT,EACVU,OAAQR,EACRS,UAAQ,IAEV,mBAAGtG,UAAWyH,EAAd,SAAwC/D,EAAO4B,YCpFxCoC,MArBf,SAAiClI,GAAQ,IAC/BqD,EAA+DrD,EAA/DqD,OAAQC,EAAuDtD,EAAvDsD,QAAS6E,EAA8CnI,EAA9CmI,eAAgBC,EAA8BpI,EAA9BoI,0BAOzC,OACE,cAAC,EAAD,CACE3F,KAAK,sBACLqC,MAAM,gBACNzB,OAAQA,EACRC,QAASA,EACT4B,SAXJ,SAAsBqB,GACpBA,EAAIC,iBAEJ2B,KASEnD,oBAAqBoD,IAA8B/E,EACnD4B,cAAe,S,gCCSNoD,E,WA3Bb,cAAsC,IAAxBC,EAAuB,EAAvBA,QAAuB,IAAdC,eAAc,MAAN,GAAM,sBACnCC,KAAKC,SAAWH,EAChBE,KAAKE,SAAWH,E,6CAGlB,YAAuF,IAA3EI,EAA0E,EAA1EA,qBAA0E,IAApDC,cAAoD,MAA7C,MAA6C,MAAtCC,6BAAsC,MAAhB,GAAgB,MAAZC,YAAY,MAAP,KAAO,EAC9EC,EAAO,CACXH,SACAL,QAAQ,2BACHC,KAAKE,UACLG,IAIK,OAATC,IACDC,EAAKD,KAAOA,GAGd,IAAME,EAAG,UAAMR,KAAKC,SAAX,YAAuBE,GAEhC,OAAOM,MAAMD,EAAKD,GAAMG,MAAK,SAACC,GAC5B,OAAGA,EAAIC,GAAWD,EAAIE,OACVC,QAAQC,OAAOJ,EAAIK,e,KC6CtBC,EAPI,I,qKA1DjB,WACE,OAAOjB,KAAKkB,UAAU,CAAEf,qBAAsB,Y,4BAGhD,WACE,OAAOH,KAAKkB,UAAU,CAAEf,qBAAsB,e,wBAGhD,SAAWlG,EAAMD,GACf,OAAOgG,KAAKkB,UAAU,CACpBf,qBAAsB,QACtBC,OAAQ,OACRC,sBAAuB,CACrB,eAAgB,oBAElBC,KAAMa,KAAKC,UAAU,CAAEnH,OAAMD,a,+BAIjC,SAAkBC,EAAMO,GACtB,OAAOwF,KAAKkB,UAAU,CACpBf,qBAAsB,WACtBC,OAAQ,QACRC,sBAAuB,CACrB,eAAgB,oBAElBC,KAAMa,KAAKC,UAAU,CAAEnH,OAAMO,c,wBAIjC,SAAW6G,GACT,OAAOrB,KAAKkB,UAAU,CACpBf,qBAAqB,SAAD,OAAYkB,GAChCjB,OAAQ,a,8BAIZ,SAAiBkB,GACf,OAAOtB,KAAKkB,UAAU,CACpBf,qBAAsB,kBACtBC,OAAQ,QACRC,sBAAuB,CACrB,eAAgB,oBAElBC,KAAMa,KAAKC,UAAU,CAAE7G,OAAQ+G,Q,6BAInC,SAAgBD,EAAQE,GACtB,OAAOvB,KAAKkB,UAAU,CACpBf,qBAAqB,eAAD,OAAiBkB,GACrCjB,OAASmB,EAAW,MAAQ,e,GApDT1B,GA2DN,CAAe,CAChCC,QAAS,6CACTC,QAAS,CACPyB,cALc,0CCvBHC,EAPI,I,4JA1BjB,SAAOC,EAAOC,GACZ,OAAO3B,KAAKkB,UAAU,CACpBf,qBAAsB,SACtBC,OAAQ,OACRE,KAAMa,KAAKC,UAAU,CAAEM,QAAOC,iB,oBAIlC,SAAOD,EAAOC,GACZ,OAAO3B,KAAKkB,UAAU,CACpBf,qBAAsB,SACtBC,OAAQ,OACRE,KAAMa,KAAKC,UAAU,CAAEM,QAAOC,iB,sBAIlC,SAASC,GACP,OAAO5B,KAAKkB,UAAU,CACpBf,qBAAsB,WACtBE,sBAAuB,CACrB,cAAgB,UAAhB,OAA2BuB,U,GArBV/B,GA2BN,CAAe,CAChCC,QAAS,oCACTC,QAAS,CACP,eAAgB,sBChCL,MAA0B,2CCkH1B8B,MA9Gf,SAAyBrK,GAAQ,IAE7ByC,EACEzC,EADFyC,KAAMqC,EACJ9E,EADI8E,MAAOG,EACXjF,EADWiF,cAAeqF,EAC1BtK,EAD0BsK,kBAAmBC,EAC7CvK,EAD6CuK,gBAAiBC,EAC9DxK,EAD8DwK,yBAFpC,EAKF3K,IAAMgB,SAAS,IALb,mBAKtBqJ,EALsB,KAKfO,EALe,OAMI5K,IAAMgB,SAAS,IANnB,mBAMtBsJ,EANsB,KAMZO,EANY,OAOA7K,IAAMgB,SAAS,IAPf,mBAOtBqD,EAPsB,KAOd0B,EAPc,KASxBE,EACG,aADHA,EAEM,gBAEN6E,EAA2BnG,EAC/BN,EACA4B,GACA,GAEI8E,EAA8BpG,EAClCN,EACA4B,GACA,GAOId,EAHJd,EAAOuD,eAAe3B,IACtB5B,EAAOuD,eAAe3B,IAItB0E,GACiB,KAAjBN,EAAMW,QACc,KAApBV,EAASU,OAEL9F,EAAqB,iEAA0DtC,IACpFuC,EAAsB,qCAAuC,IAG9D,SAAS0C,EAAcvD,GACrByB,EAAU3B,EAAeC,EAAQC,IAGnC,SAASgC,EAAT,GAAwC,IAAX1C,EAAU,EAAVA,OAC3B,OAAOA,EAAOhB,MACZ,KAAKqD,EACH2E,EAAShH,EAAO2C,OAChB,MACF,KAAKN,EACH4E,EAAYjH,EAAO2C,OAIvBsB,EAAcjE,GAGhB,SAAS4C,EAAT,GACEqB,EAD8B,EAAVjE,QAStB,OACE,uBAAMjD,UAAU,uCAAhB,UACE,eAAC,EAAD,CACEiC,KAAMA,EACNqC,MAAOA,EACPG,cAAeA,EACfF,mBAAoBA,EACpBC,oBAAqBA,EACrBE,SAbN,SAA+BqB,GAC7BA,EAAIC,iBACJ8D,EAAkBJ,EAAOC,IAKvB,UAQE,sBAAK3J,UAAU,kFAAf,UACE,uBACE8B,KAAK,QACLC,aAAW,QACXE,KAAMqD,EACNtF,UAAW,wEACXiG,YAAY,QACZL,MAAO8D,EACPtD,SAAUT,EACVU,OAAQR,EACRS,UAAQ,IAEV,mBAAGtG,UAAWmK,EAAd,SAAyCzG,EAAO4B,QAElD,sBAAKtF,UAAU,kFAAf,UACE,uBACE8B,KAAK,WACLC,aAAW,WACXE,KAAMqD,EACNtF,UAAU,wEACViG,YAAY,WACZL,MAAO+D,EACPvD,SAAUT,EACVU,OAAQR,EACRS,UAAQ,IAEV,mBAAGtG,UAAWoK,EAAd,SAA4C1G,EAAO4B,WAGvD,mBAAGtF,UAAU,yDAAb,SACG+J,QC7EMO,MA3Bf,SAAkB9K,GAAQ,IAChB+K,EAAkD/K,EAAlD+K,WAAYC,EAAsChL,EAAtCgL,cAAeC,EAAuBjL,EAAvBiL,mBACnCpL,IAAMyG,WAAU,WAEd,OADA2E,GAAmB,GACZ,kBAAMA,GAAmB,MAC/B,IACH,IAAMV,EACJ,iEAC4B,IAC1B,cAAC,IAAD,CAAM9J,GAAG,UAAUD,UAAU,6CAA7B,kBAFF,OAQF,OACE,cAAC,EAAD,CACEiC,KAAK,qBACLqC,MAAM,UACNG,cAAe+F,EAAgB,aAAe,UAC9CT,gBAAiBA,EACjBC,yBAA0BQ,EAC1BV,kBAAmBS,KCVVG,MAZf,SAAqBlL,GAAQ,IACnBmL,EAA2CnL,EAA3CmL,SAAUzF,EAAiC1F,EAAjC0F,YAAarC,EAAoBrD,EAApBqD,OAAQC,EAAYtD,EAAZsD,QACvC,OACE,cAAC,EAAD,CAAOb,KAAK,eAAeY,OAAQA,EAAQC,QAASA,EAApD,SACE,sBAAK9C,UAAU,eAAf,UACE,qBAAKA,UAAS,qDAAgD2K,KAC9D,mBAAG3K,UAAU,4BAAb,SAA0CkF,UCqBnC0F,MA3Bf,SAAepL,GAAQ,IACbqL,EAAsCrL,EAAtCqL,YAAaC,EAAyBtL,EAAzBsL,QAASC,EAAgBvL,EAAhBuL,YAC9B1L,IAAMyG,WAAU,WAEd,OADAiF,GAAY,GACL,kBAAMA,GAAY,MACxB,IACH,IAAMhB,EACJ,kEAC6B,IAC3B,cAAC,IAAD,CAAM9J,GAAG,UAAUD,UAAU,6CAA7B,kBAFF,OAQF,OACE,cAAC,EAAD,CACEiC,KAAK,qBACLqC,MAAM,SACNG,cAAeoG,EAAc,aAAe,SAC5Cb,yBAA0Ba,EAC1Bd,gBAAiBA,EACjBD,kBAAmBgB,KCVVE,MAbf,SAAwBxL,GAAQ,IACtByL,EAAkCzL,EAAlCyL,UAAcC,EADO,YACa1L,EADb,eAErB2L,EAAqBD,EAArBC,KAAMC,EAAeF,EAAfE,WAEd,OACE,cAAC,IAAD,CAAOD,KAAMA,EAAb,SAEI,kBAAMC,EAAa,cAACH,EAAD,eAAeC,IAAsB,cAAC,IAAD,CAAUjL,GAAG,gBC4U9DoL,MA7Tf,WAAgB,IAAD,EACkDhM,IAAMgB,UAAS,GADjE,mBACLiL,EADK,KACmBC,EADnB,OAE2ClM,IAAMgB,UAAS,GAF1D,mBAELmL,EAFK,KAEgBC,EAFhB,OAG+CpM,IAAMgB,UAAS,GAH9D,mBAGLqL,EAHK,KAGkBC,EAHlB,OAI6BtM,IAAMgB,SAAS,CAAEmB,IAAK,KAAMQ,KAAM,IAAMC,KAAM,KAJ3E,mBAIL2J,EAJK,KAISC,EAJT,OAK2BxM,IAAMgB,SAAS,CACrD4B,KAAM,mBACNO,MAAO,WACPD,OAAQuJ,EACRtK,IAAK,OATM,mBAKLP,EALK,KAKQ8K,EALR,OAWe1M,IAAMgB,SAAS,IAX9B,mBAWLiC,EAXK,KAWE0J,EAXF,OAY2C3M,IAAMgB,SAAS,MAZ1D,mBAYL4L,EAZK,KAYgBC,EAZhB,OAaqC7M,IAAMgB,UAAS,GAbpD,mBAaLoG,EAbK,KAaa0F,GAbb,QAcuC9M,IAAMgB,UAAS,GAdtD,qBAcL2E,GAdK,MAccoH,GAdd,SAemC/M,IAAMgB,UAAS,GAflD,qBAeLgH,GAfK,MAeYgF,GAfZ,SAgBuDhN,IAAMgB,UAAS,GAhBtE,qBAgBLuH,GAhBK,MAgBsB0E,GAhBtB,SAiBuBjN,IAAMgB,SAAS,IAjBtC,qBAiBLT,GAjBK,MAiBM2M,GAjBN,SAkB2ClN,IAAMgB,UAAS,GAlB1D,qBAkBLmM,GAlBK,MAkBgBC,GAlBhB,SAmB+CpN,IAAMgB,UAAS,GAnB9D,qBAmBLqM,GAnBK,MAmBkBC,GAnBlB,SAoB+BtN,IAAMgB,UAAS,GApB9C,qBAoBLmK,GApBK,MAoBUoC,GApBV,SAqBqDvN,IAAMgB,UAAS,GArBpE,qBAqBLP,GArBK,MAqBqB+M,GArBrB,SAsB2BxN,IAAMgB,UAAS,GAtB1C,qBAsBLwK,GAtBK,MAsBQiC,GAtBR,SAuByBzN,IAAMgB,UAAS,GAvBxC,qBAuBL+K,GAvBK,MAuBO2B,GAvBP,SAwBuC1N,IAAMgB,UAAS,GAxBtD,qBAwBLN,GAxBK,MAwBciN,GAxBd,MA0BPnK,GACJ6I,GACAJ,GACAE,GACAS,GACAL,EAAapK,KACbkL,IACAF,GAGIS,GAAUC,cAGhB,SAASC,KACPxB,GAAyB,GACzBJ,GAA0B,GAC1BE,GAAuB,GACvBS,EAAuB,MACvBL,EAAgB,2BAAKD,GAAN,IAAoBpK,IAAK,QACxCiL,IAAuB,GACvBE,IAAyB,GAG3B,SAASS,GAAkCrH,GAC1B,WAAZA,EAAIsH,KACLF,KAuJJ,SAASG,GAA2BrC,EAAWzL,GAC7C,OAAG4L,GACM,cAAC,IAAD,CAAUnL,GAAG,MAEb,cAACgL,EAAD,eAAezL,IAI1B,OA1JAH,IAAMyG,WAAU,WACXjD,GACD0K,SAASC,iBAAiB,UAAWJ,IAErCG,SAASE,oBAAoB,UAAWL,MAEzC,CAACvK,KAEJxD,IAAMyG,WAAU,WACdmD,EAAWyE,iBACRhF,KAAKqD,GACL4B,MAAMtK,KACR,IAEHhE,IAAMyG,WAAU,WACdmD,EAAW2E,kBACRlF,KAAKsD,GACL2B,MAAMtK,KACR,IAEHhE,IAAMyG,WAAU,WACd,IAAM8D,EAAQiE,aAAaC,QAAQ,YACvBC,GAATnE,IACDmD,IAAc,GACdtD,EAAWuE,SAASpE,GACjBlB,MAAK,gBAAWgB,EAAX,EAAGuE,KAAQvE,MAAX,OAAwB6C,GAAa7C,MAC1CiE,MAAMtK,MAEV,IA+HD,cAAC,EAAmB6K,SAApB,CAA6BtI,MAAO3E,EAApC,SACE,sBAAKjB,UAAU,OAAf,UACE,cAAC,EAAD,CACEN,eAAgB0L,GAChBxL,UAAWA,GACXG,kBAAmBA,GACnBD,yBAA0BA,GAC1BD,UAvBR,WACEgO,aAAaM,WAAW,OACxBpB,IAAc,GACdR,GAAa,IACbU,GAAQmB,KAAK,cAsBT,eAAC,IAAD,WAEE,cAAC,IAAD,CAAOjD,KAAK,UAAZ,SAEImC,GAA2B1C,EAAO,CAChCE,QA7Cd,SAA0BpB,EAAOC,GAC/BmD,IAAe,GACfrD,EAAW4E,OAAO3E,EAAOC,GACtBjB,MAAK,YAAgB,IAAbkB,EAAY,EAAZA,MACPiE,aAAaS,QAAQ,MAAO1E,GAC5B2C,GAAa7C,GACbqD,IAAc,GACdE,GAAQmB,KAAK,QAEdT,OAAM,SAACrK,GACND,EAAUC,MACTiL,SAAQ,kBAAMzB,IAAe,OAmCtBjC,YAAaA,GACbE,YAAaiC,OAKnB,cAAC,IAAD,CAAO7B,KAAK,UAAZ,SAEImC,GAA2BhD,EAAU,CACnCC,WApEd,SAA6Bb,EAAOC,GAClCiD,IAAiB,GACjBnD,EAAW+E,OAAO9E,EAAOC,GACtBjB,MAAK,SAACuF,GACLtB,IAAyB,GACzBM,GAAQmB,KAAK,cAEdT,OAAM,SAACrK,GACND,EAAUC,GACVmJ,IAAuB,MACtB8B,SAAQ,kBAAM3B,IAAiB,OA2DxBpC,cAAeA,GACfC,mBAAoBoC,OAM1B,cAAC,EAAD,CACE5B,UAAW/I,EACXiJ,KAAK,IACLC,WAAYA,GACZjJ,aApJV,WACEwJ,GAAyB,IAoJjBtJ,cAjJV,WACEkJ,GAA0B,IAiJlBnJ,WA9IV,WACEqJ,GAAuB,IA8IfzK,aA3JV,SAA0ByN,GACxBvC,EAAuBuC,IA2Jf3N,aA5IV,SAA0BuI,EAAQqF,EAAUC,GAC1C9C,EAAgB,CACdrK,IAAK6H,EACLpH,KAAMyM,EACN1M,KAAM2M,KAyIA5N,WAtKV,SAAwB6N,EAAeC,GACrC5F,EAAW6F,gBAAgBF,GAAgBC,GACxCnG,MAAK,SAACqG,GACL,IAAMC,EAAe1M,EAAMG,KAAI,SAAC5B,GAAD,OAAUA,EAAKW,MAAQoN,EAAgBG,EAAclO,KACpFmL,EAASgD,MAEVrB,MAAMtK,IAiKDf,MAAOA,OAGX,cAAC,EAAD,IAOE8I,IACA,qCACE,cAAC,EAAD,CACEvI,OAAQyI,EACRxI,QAASqK,GACTpI,aArJZ,SAA0B9C,EAAMO,GAC9B4J,IAAqB,GACrBnD,EAAWgG,kBAAkBhN,EAAMO,GAChCkG,KAAKqD,GACL4B,MAAMtK,GACNkL,SAAQ,WACPpB,KACAf,IAAqB,OA+IfpH,kBAAmBA,KAGrB,cAAC,EAAD,CACEnC,OAAQ2I,EACR1I,QAASqK,GACT/K,WAtIZ,SAAwBH,EAAMD,GAC5BqK,IAAmB,GACnBpD,EAAWiG,WAAWjN,EAAMD,GACzB0G,MAAK,SAACyG,GAAD,OAAanD,EAAS,CAACmD,GAAF,mBAAc7M,QACxCqL,MAAMtK,GACNkL,SAAQ,WACPpB,KACAd,IAAmB,OAgIbhF,gBAAiBA,KAGnB,cAAC,EAAD,CACExE,OAAgC,OAAxBoJ,EACRnJ,QAASqK,GACTxF,eAlIZ,WACE2E,IAA6B,GAC7BrD,EAAWmG,WAAWnD,GACnBvD,MAAK,SAACuF,GACL1K,QAAQC,IAAI,YAAayK,GACzB,IAAMe,EAAe1M,EAAM+M,QAAO,SAACC,GAAD,OAAWA,EAAM9N,MAAQyK,KAC3DD,EAASgD,MAEVrB,MAAMtK,GACNkL,SAAQ,WACPpB,KACAb,IAA6B,OAwHvB1E,0BAA2BA,KAG7B,cAAC,EAAD,CACE/E,OAAQ6I,EACR5I,QAASqK,GACT3G,eA/JZ,SAA4BjE,GAC1B4J,IAAoB,GACpBlD,EAAWsG,iBAAiBhN,GACzBmG,KAAKqD,GACL4B,MAAMtK,GACNkL,SAAQ,WACPpB,KACAhB,IAAoB,OAyJd1F,iBAAkBA,IAGpB,cAAC,EAAD,CAAY5F,KAAM+K,EAAc9I,QAASqK,QAK7C,cAAC,EAAD,CACExC,SAAS,UACTzF,YAAY,yCACZrC,OAAQ6J,GACR5J,QAASqK,KAEX,cAAC,EAAD,CACExC,SAAS,QACTzF,YAAY,gDACZrC,OAAQ2J,GACR1J,QAASqK,WClUJqC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBhH,MAAK,YAAkD,IAA/CiH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCCdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAeC,SAAS,6BAAxB,SACE,cAAC,EAAD,QAGJ5C,SAAS6C,eAAe,SAM1BZ,M","file":"static/js/main.10ea3ab3.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","export default __webpack_public_path__ + \"static/media/header-vector.70737bb4.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Nav(props) {\r\n  const { \r\n    isHamburgerMenuShown, \r\n    isUserLoggedIn, \r\n    isCloseBtnShown, \r\n    userEmail, \r\n    onSignOut, \r\n    isUserOnRegistrationPage, \r\n    isUserOnLoginPage\r\n  } = props;\r\n  return (\r\n    <nav className={`nav ${isHamburgerMenuShown ? 'nav_logged-in-mobile-inactive' : ''}`}>\r\n      <ul className=\"nav__items\">\r\n        <li className={`nav__item ${isUserLoggedIn ? 'nav__item_active' : ''} ${isCloseBtnShown ? 'nav__item_logged-in-mobile': ''}`}>\r\n          <p className=\"nav__user-detail\">{userEmail}</p>\r\n          <Link to=\"#\" className=\"nav__link\" onClick={onSignOut}>Log out</Link>\r\n        </li>\r\n        <li className={`nav__item ${!isUserLoggedIn && isUserOnRegistrationPage ? 'nav__item_active' : ''}`}>\r\n          <Link to=\"/signin\" className=\"nav__link\">Log in</Link>\r\n        </li>\r\n        <li className={`nav__item ${!isUserLoggedIn && isUserOnLoginPage ? 'nav__item_active' : ''}`}>\r\n          <Link to=\"/signup\" className=\"nav__link\">Sign up</Link>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Nav;","import React from 'react';\r\n\r\nimport logo from '../images/header-vector.svg';\r\nimport Nav from './Nav';\r\n\r\nfunction Header(props) {\r\n  const { isUserLoggedIn, ...otherProps } = props;\r\n  const [ isMobileNavOpen, setIsMobileNavOpen] = React.useState(false);\r\n\r\n  const isHamburgerMenuShown = !isMobileNavOpen && isUserLoggedIn;\r\n  const isCloseBtnShown = isMobileNavOpen && isUserLoggedIn;\r\n\r\n  function handleToggleMobileNav() {\r\n    setIsMobileNavOpen(!isMobileNavOpen);\r\n  }\r\n\r\n  return (\r\n    <header className={`header ${isUserLoggedIn ? 'header_logged-in-mobile' : ''}`}>\r\n      <div className={`header__wrapper ${isUserLoggedIn ? 'header__wrapper_logged-in-mobile' : ''}`}>\r\n        <img src={logo} alt=\"Around The U.S.\" className=\"header__vector\" />\r\n        <div \r\n          className={`header__hamburger-menu ${isHamburgerMenuShown ? 'header__hamburger-menu_active' : ''}`} \r\n          onClick={handleToggleMobileNav}\r\n        >\r\n          <div className=\"header__hamburger-menu-line\"></div>\r\n          <div className=\"header__hamburger-menu-line\"></div>\r\n          <div className=\"header__hamburger-menu-line\"></div>\r\n        </div>\r\n        <button \r\n          className={`header__nav-close-btn ${isCloseBtnShown ? 'header__nav-close-btn_active' : ''}`}\r\n          onClick={handleToggleMobileNav} \r\n        />\r\n      </div>\r\n      <Nav \r\n        isUserLoggedIn={isUserLoggedIn}\r\n        isMobileNavOpen={isMobileNavOpen}\r\n        isCloseBtnShown={isCloseBtnShown}\r\n        isHamburgerMenuShown={isHamburgerMenuShown}\r\n        {...otherProps} \r\n      />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const { card, onCardSelect, onCardLike, onCardDelete } = props;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const numLikes = card.likes.length;\r\n  const isCurrentUserTheOwnerOfCard = card.owner._id === currentUser._id;\r\n  const isCardLikedByCurrentUser = card.likes.some((someUser) => someUser._id === currentUser._id);\r\n\r\n  const deleteBtnClassName = 'location__delete-btn' + \r\n    (isCurrentUserTheOwnerOfCard ? ' location__delete-btn_active' : '');\r\n  const likeBtnClassName = 'location__like-btn' +\r\n    (isCardLikedByCurrentUser ? ' location__like-btn_active' : '');\r\n\r\n\r\n  function handleCardImageClick() {\r\n    onCardSelect(card._id, card.name, card.link);\r\n  }\r\n\r\n  function handleLikeBtnClick() {\r\n    onCardLike(card._id, isCardLikedByCurrentUser);\r\n  }\r\n\r\n  function handleDeleteBtnClick() {\r\n    onCardDelete(card._id)\r\n  }\r\n  \r\n\r\n  return (\r\n    <li className=\"location\">\r\n      <button \r\n        type=\"button\"\r\n        aria-label=\"Delete\"\r\n        className={deleteBtnClassName}\r\n        onClick={handleDeleteBtnClick}\r\n      ></button>\r\n      <img\r\n        src={card.link} \r\n        alt={card.name} \r\n        className=\"location__image\" \r\n        onClick={handleCardImageClick}\r\n      />\r\n      <div className=\"location__content-wrapper\">\r\n        <h2 className=\"location__name\">{card.name}</h2>\r\n        <div className=\"location__likes-wrapper\">\r\n          <button \r\n            type=\"button\" \r\n            aria-label=\"Like\" \r\n            className={likeBtnClassName}\r\n            onClick={handleLikeBtnClick}\r\n          ></button>\r\n          <p className=\"location__num-likes\">{numLikes}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nimport Card from './Card.js';\r\n\r\nfunction Main(props) {\r\n  const { \r\n    onEditAvatar, \r\n    onAddPlace, \r\n    onEditProfile, \r\n    onCardSelect, \r\n    onCardLike, \r\n    onCardDelete, \r\n    cards \r\n  } = props;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main-content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-wrapper\">\r\n          <img src={currentUser.avatar} alt=\"profile avatar\" className=\"profile__avatar\" />\r\n          <div className=\"profile__avatar-overlay\" onClick={onEditAvatar}></div>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button type=\"button\" aria-label=\"Edit\" className=\"profile__edit-btn\" onClick={onEditProfile}></button>\r\n          <p className=\"profile__self-description\">{currentUser.about}</p>\r\n        </div>\r\n        <button type=\"button\" aria-label=\"Add location\" className=\"profile__add-btn\" onClick={onAddPlace}></button>\r\n      </section>\r\n\r\n      <section className=\"locations\">\r\n        <ul className=\"locations__collection\">\r\n        {cards.map(({ name, link, likes, _id, owner }) => { \r\n          return (\r\n            <Card\r\n              key={_id}\r\n              card={{ name, link, likes, _id, owner }}\r\n              onCardSelect={onCardSelect}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete} \r\n            />\r\n          );\r\n        })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer(props) {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        &copy; 2020 Around The U.S.\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction Popup(props) {\r\n  const { name, children, isOpen, onClose, additionalCssClassesStr='' } = props;\r\n\r\n  const OPENED_OVERLAY_CSS_CLASS = 'overlay_opened';\r\n\r\n  function handleClick({ target }) { \r\n    // closing popup by clicking on just the overlay and not its contents\r\n    if(target.classList.contains(OPENED_OVERLAY_CSS_CLASS)) onClose();\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className={`overlay ${additionalCssClassesStr} ${isOpen ? OPENED_OVERLAY_CSS_CLASS : ''}`} \r\n      onClick={handleClick}\r\n    >\r\n      <div className=\"overlay__wrapper\">\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Close\"\r\n          className={`overlay__close-btn overlay__close-btn_type_${name}`}\r\n          onClick={onClose}\r\n        >\r\n        </button>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popup;","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\nfunction ImagePopup(props) {\r\n  const { card, onClose } = props;\r\n\r\n  return (\r\n    <Popup \r\n      name=\"image-popup\" \r\n      isOpen={card._id != null} \r\n      onClose={onClose} \r\n      additionalCssClassesStr=\"overlay_dark\"\r\n    >\r\n      <figure className=\"image-popup\">\r\n        <img src={card.link} alt={card.name} className=\"image-popup__image\" />\r\n        <figcaption className=\"image-popup__title\">{card.name}</figcaption>\r\n      </figure>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","export function logErrors(err) {\r\n  console.log(`Error: ${err}`);\r\n}\r\n\r\nexport function getInputErrors(errors, inputElement) {\r\n  const errs = { ...errors };\r\n\r\n  if (!inputElement.validity.valid) {\r\n    errs[inputElement.name] = inputElement.validationMessage;\r\n  } else {\r\n    delete errs[inputElement.name];\r\n  }\r\n  return errs;\r\n}\r\n\r\nexport function getInputFieldErrorClassName(fieldErrors, fieldName, isErrorShown) {\r\n  const inputErrorBlockElement = 'project-form__input-error';\r\n  \r\n  const fieldErrorClassName = inputErrorBlockElement +\r\n    ` ${inputErrorBlockElement}_field_${fieldName}` +\r\n    (fieldErrors[fieldName] != null && isErrorShown ? ` ${inputErrorBlockElement}_active` : '');\r\n\r\n  return fieldErrorClassName;\r\n}\r\n","import React from 'react';\r\n\r\nfunction Form(props) {\r\n  const { name, title, submitBtnClassName, isSubmitBtnDisabled, submitBtnText, onSubmit, children } = props;\r\n\r\n  return (\r\n    <form \r\n      name={name} \r\n      className={`project-form project-form_type_${name}`} \r\n      onSubmit={onSubmit} \r\n      noValidate\r\n    > \r\n      <h3 className={`project-form__title project-form__title_type_${name}`}>\r\n        {title}\r\n      </h3>\r\n      {children}\r\n      <button type=\"submit\" className={submitBtnClassName} disabled={isSubmitBtnDisabled}>\r\n        {submitBtnText || 'Submit'}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Form;","import React from 'react';\r\nimport Form from './Form';\r\nimport Popup from './Popup';\r\n\r\nfunction PopupWithForm(props) {\r\n  const { \r\n    name, title, children, isOpen, onClose, \r\n    onSubmit, isSubmitBtnDisabled, submitBtnText\r\n  } = props;\r\n\r\n  const submitBtnClassName = `project-form__submit-btn project-form__submit-btn_type_${name}` + \r\n    (isSubmitBtnDisabled ? ' project-form__submit-btn_disabled' : '');\r\n\r\n  return (\r\n    <Popup name={name} isOpen={isOpen} onClose={onClose}>\r\n      <Form\r\n        name={name}\r\n        title={title}\r\n        submitBtnText={submitBtnText}\r\n        submitBtnClassName={submitBtnClassName}\r\n        isSubmitBtnDisabled={isSubmitBtnDisabled}\r\n        onSubmit={onSubmit} \r\n      > \r\n        {children}\r\n      </Form>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\nimport { getInputErrors, getInputFieldErrorClassName } from '../utils/utils.js';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const { isOpen, onClose, onUpdateUser, isUpdatingProfile } = props;\r\n\r\n  const [ name, setName ] = React.useState('');\r\n  const [ description, setDescription ] = React.useState('');\r\n  const [ errors, setErrors ] = React.useState({});\r\n  const [ isSubmitBtnDisabled, setIsSubmitBtnDisabled ] = React.useState(false);\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const fieldNames = {\r\n    profileName: 'profile-name',\r\n    profileDescription: 'profile-description'\r\n  }\r\n  const nameFieldErrorClassName = getInputFieldErrorClassName(\r\n    errors, \r\n    fieldNames.profileName, \r\n    isOpen\r\n  );\r\n  const descriptionFieldErrorClassName = getInputFieldErrorClassName(\r\n    errors,\r\n    fieldNames.profileDescription, \r\n    isOpen\r\n  );\r\n\r\n  const PROFILE_NAME_MAX_LENGTH = 40;\r\n  const PROFILE_NAME_MIN_LENGTH = 2;\r\n  const PROFILE_DESCRIPTION_MAX_LENGTH = 200;\r\n  const PROFILE_DESCRIPTION_MIN_LENGTH = 2;\r\n\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  React.useEffect(() => {\r\n    checkIfSubmitBtnShouldBeDisabled();\r\n  }, [name, description, isUpdatingProfile, isOpen]);\r\n\r\n\r\n  function checkIfSubmitBtnShouldBeDisabled() {\r\n    const hasInvalidInput = (\r\n      name.length < PROFILE_NAME_MIN_LENGTH ||\r\n      name.length > PROFILE_NAME_MAX_LENGTH ||\r\n      description.length < PROFILE_NAME_MIN_LENGTH ||\r\n      description.length > PROFILE_DESCRIPTION_MAX_LENGTH\r\n    );\r\n\r\n    setIsSubmitBtnDisabled(isUpdatingProfile || hasInvalidInput || !isOpen);\r\n  }\r\n\r\n  function handleInputChange({ target }) {\r\n    switch(target.name) {\r\n      case fieldNames.profileName:\r\n        setName(target.value);\r\n        break;\r\n      case fieldNames.profileDescription:\r\n        setDescription(target.value);\r\n        break;\r\n    }\r\n\r\n    setErrors(getInputErrors(errors, target));\r\n  }\r\n\r\n  function handleBlur({ target }) {\r\n    setErrors(getInputErrors(errors, target));\r\n    checkIfSubmitBtnShouldBeDisabled();\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser(name, description);\r\n  }\r\n  \r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"profile-edit\" \r\n      title=\"Edit profile\" \r\n      isOpen={isOpen} \r\n      onClose={onClose} \r\n      onSubmit={handleSubmit} \r\n      isSubmitBtnDisabled={isSubmitBtnDisabled}\r\n      submitBtnText={isUpdatingProfile ? 'Saving' : 'Save'}\r\n    >\r\n      <div className=\"project-form__field-wrapper project-form__field-wrapper_form_profile-edit\">\r\n        <input \r\n          type=\"text\"\r\n          aria-label=\"Name\"\r\n          name={fieldNames.profileName}\r\n          className={\"project-form__input project-form__input_type_profile-edit-field\"}\r\n          placeholder=\"Name\"\r\n          minLength={PROFILE_NAME_MIN_LENGTH}\r\n          maxLength={PROFILE_NAME_MAX_LENGTH}\r\n          value={name}\r\n          onChange={handleInputChange}\r\n          onBlur={handleBlur}\r\n          required\r\n        />\r\n        <p className={nameFieldErrorClassName}>{errors[fieldNames.profileName]}</p>\r\n      </div>\r\n      <div className=\"project-form__field-wrapper project-form__field-wrapper_form_profile-edit\">\r\n        <input\r\n          type=\"text\"\r\n          aria-label=\"About me\"\r\n          name={fieldNames.profileDescription}\r\n          className=\"project-form__input project-form__input_type_profile-edit-field\"\r\n          placeholder=\"About me\"\r\n          minLength={PROFILE_DESCRIPTION_MIN_LENGTH}\r\n          maxLength={PROFILE_DESCRIPTION_MAX_LENGTH}\r\n          value={description}\r\n          onChange={handleInputChange}\r\n          onBlur={handleBlur}\r\n          required\r\n        />\r\n        <p className={descriptionFieldErrorClassName}>{errors[fieldNames.profileDescription]}</p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nimport { getInputErrors, getInputFieldErrorClassName } from '../utils/utils';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const { isOpen, onClose, onUpdateAvatar, isUpdatingAvatar } = props;\r\n  \r\n  const [ avatar, setAvatar ] = React.useState('');\r\n  const [ error, setError ] = React.useState({});\r\n  const [ hasUserChangedInput, setHasUserChangedInput ] = React.useState(false);\r\n\r\n  const PROFILE_AVATAR_FIELD_NAME = 'profile-avatar';\r\n  const avatarFieldErrorClassName = getInputFieldErrorClassName(\r\n    error, \r\n    PROFILE_AVATAR_FIELD_NAME, \r\n    isOpen\r\n  );\r\n  const hasInvalidInput = error.hasOwnProperty(PROFILE_AVATAR_FIELD_NAME);\r\n  const isSubmitBtnDisabled = (\r\n    !hasUserChangedInput || \r\n    isUpdatingAvatar || \r\n    hasInvalidInput || \r\n    !isOpen\r\n  );\r\n\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n  \r\n    onUpdateAvatar(avatar);\r\n    setAvatar('');\r\n  }\r\n\r\n  function validateInput(inputElement) {\r\n    setError(getInputErrors(error, inputElement));\r\n    setAvatar(inputElement.value);\r\n  }\r\n\r\n  function handleInputChange({ target: avatarInputElement }) {\r\n    setAvatar(avatarInputElement.value);\r\n    validateInput(avatarInputElement);\r\n\r\n    setHasUserChangedInput(true);\r\n  }\r\n\r\n  function handleBlur({ target: inputElement }) {\r\n    validateInput(inputElement);\r\n  }\r\n      \r\n  return (\r\n    <PopupWithForm \r\n      name=\"profile-img-change\" \r\n      title=\"Change profile picture\" \r\n      isOpen={isOpen} \r\n      onClose={onClose} \r\n      onSubmit={handleSubmit}\r\n      isSubmitBtnDisabled={isSubmitBtnDisabled}\r\n      submitBtnText={isUpdatingAvatar ? 'Saving' : 'Save'}\r\n    >\r\n      <div className=\"project-form__field-wrapper project-form__field-wrapper_form_profile-img-change\">\r\n        <input\r\n          type=\"url\"\r\n          aria-label=\"Avatar link\"\r\n          name={PROFILE_AVATAR_FIELD_NAME}\r\n          className=\"project-form__input project-form__input_type_profile-img-change-field\"\r\n          placeholder=\"Avatar link\"\r\n          value={avatar}\r\n          onChange={handleInputChange}\r\n          onBlur={handleBlur}\r\n          required\r\n        />\r\n        <p className={avatarFieldErrorClassName}>{error[PROFILE_AVATAR_FIELD_NAME]}</p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport { getInputErrors, getInputFieldErrorClassName } from '../utils/utils';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const { isOpen, onClose, onAddPlace, isCreatingPlace } = props;\r\n\r\n  const [ title, setTitle ] = React.useState('');\r\n  const [ link, setLink ] = React.useState(''); \r\n  const [ errors, setErrors ] = React.useState({});\r\n  const [ hasUserChangedInput, setHasUserChangedInput ] = React.useState(false);\r\n\r\n\r\n  const fieldNames = {\r\n    placeTitle: 'location-title',\r\n    placeLink: 'location-link'\r\n  }\r\n  const titleFieldErrorClassName = getInputFieldErrorClassName(\r\n    errors, \r\n    fieldNames.placeTitle, \r\n    isOpen\r\n  );\r\n  const linkFieldErrorClassName = getInputFieldErrorClassName(\r\n    errors, \r\n    fieldNames.placeLink, \r\n    isOpen\r\n  );\r\n  const hasInvalidInput = (  \r\n    errors.hasOwnProperty(fieldNames.placeTitle) ||\r\n    errors.hasOwnProperty(fieldNames.placeLink)\r\n  );\r\n  const isSubmitBtnDisabled = (\r\n    !hasUserChangedInput ||\r\n    isCreatingPlace ||\r\n    hasInvalidInput || \r\n    !isOpen\r\n  );\r\n\r\n  \r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onAddPlace(title, link);\r\n\r\n    setTitle('');\r\n    setLink('');\r\n  }\r\n\r\n  function validateInput(inputElement) {\r\n    setErrors(getInputErrors(errors, inputElement));\r\n  }\r\n\r\n  function handleInputChange({ target: inputElement }) {\r\n    switch(inputElement.name) {\r\n      case fieldNames.placeTitle:\r\n        setTitle(inputElement.value);\r\n        break;\r\n      case fieldNames.placeLink:\r\n        setLink(inputElement.value);\r\n        break;\r\n    }\r\n\r\n    setHasUserChangedInput(true);\r\n  }\r\n\r\n  function handleBlur({ target: inputElement }) {\r\n    validateInput(inputElement);\r\n  }\r\n\r\n\r\n  return (\r\n    <PopupWithForm \r\n      name=\"location-create\" \r\n      title=\"New place\" \r\n      isOpen={isOpen} \r\n      onClose={onClose} \r\n      onSubmit={handleSubmit} \r\n      isSubmitBtnDisabled={isSubmitBtnDisabled}\r\n      submitBtnText={isCreatingPlace ? 'Saving' : 'Save'}\r\n    >\r\n      <div className=\"project-form__field-wrapper project-form__field-wrapper_form_location-create\">\r\n        <input \r\n          type=\"text\"\r\n          aria-label=\"Title\"\r\n          name={fieldNames.placeTitle}\r\n          className=\"project-form__input project-form__input_type_location-create-field\"\r\n          placeholder=\"Title\"\r\n          minLength=\"2\"\r\n          maxLength=\"30\"\r\n          value={title}\r\n          onChange={handleInputChange}\r\n          onBlur={handleBlur}\r\n          required\r\n        />\r\n        <p className={titleFieldErrorClassName}>{errors[fieldNames.placeTitle]}</p>\r\n      </div>\r\n      <div className=\"project-form__field-wrapper project-form__field-wrapper_form_location-create\">\r\n        <input\r\n          type=\"url\"\r\n          aria-label=\"Image link\"\r\n          name={fieldNames.placeLink}\r\n          className=\"project-form__input project-form__input_type_location-create-field\"\r\n          placeholder=\"Image link\"\r\n          value={link}\r\n          onChange={handleInputChange}\r\n          onBlur={handleBlur}\r\n          required\r\n        />\r\n        <p className={linkFieldErrorClassName}>{errors[fieldNames.placeLink]}</p>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction ConfirmationPromptPopup(props) {\r\n  const { isOpen, onClose, onConfirmation, isDeletingAfterConfirming } = props;\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onConfirmation();\r\n  }\r\n  return (\r\n    <PopupWithForm \r\n      name=\"confirmation-prompt\" \r\n      title=\"Are you sure?\" \r\n      isOpen={isOpen} \r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isSubmitBtnDisabled={isDeletingAfterConfirming || !isOpen}\r\n      submitBtnText={\"Yes\"}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ConfirmationPromptPopup;","class Api {\r\n  constructor({ baseUrl, headers={} }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  fetchData({ relativePathFromBase, method='GET', additionalHeaderProps={}, body=null}) {\r\n    const init = {\r\n      method,\r\n      headers: {\r\n        ...this._headers,\r\n        ...additionalHeaderProps\r\n      }\r\n    };\r\n\r\n    if(body !== null) {\r\n      init.body = body;\r\n    }\r\n\r\n    const url = `${this._baseUrl}/${relativePathFromBase}`;\r\n\r\n    return fetch(url, init).then((res) => {\r\n      if(res.ok) return res.json();\r\n      else return Promise.reject(res.status);\r\n    });\r\n  }\r\n}\r\n\r\nexport default Api;","import Api from \"./Api\";\r\n\r\nclass AppDataApi extends Api {\r\n  getInitialCards() {\r\n    return this.fetchData({ relativePathFromBase: 'cards' });\r\n  }\r\n\r\n  getUserProfile() {\r\n    return this.fetchData({ relativePathFromBase: 'users/me' });\r\n  }\r\n\r\n  createCard(name, link) {\r\n    return this.fetchData({ \r\n      relativePathFromBase: 'cards',\r\n      method: 'POST',\r\n      additionalHeaderProps: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ name, link })\r\n    });\r\n  }\r\n\r\n  updateUserProfile(name, about) {\r\n    return this.fetchData({ \r\n      relativePathFromBase: 'users/me',\r\n      method: 'PATCH',\r\n      additionalHeaderProps: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ name, about })\r\n    });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return this.fetchData({ \r\n      relativePathFromBase:  `cards/${cardId}`,\r\n      method: 'DELETE'\r\n    });\r\n  }\r\n\r\n  updateUserAvatar(avatarLink) {\r\n    return this.fetchData({ \r\n      relativePathFromBase: 'users/me/avatar',\r\n      method: 'PATCH',\r\n      additionalHeaderProps: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ avatar: avatarLink })\r\n    });\r\n  }\r\n\r\n  updateCardLikes(cardId, isLiking ) {\r\n    return this.fetchData({ \r\n      relativePathFromBase: `cards/likes/${cardId}`,\r\n      method: (isLiking ? 'PUT' : 'DELETE')\r\n    });\r\n  }\r\n}\r\n\r\nconst authToken = 'f9c51bc0-ecec-42b1-bdb4-bcfabdba3e4f';\r\n\r\nconst appDataApi = new AppDataApi({\r\n  baseUrl: 'https://around.nomoreparties.co/v1/group-8', \r\n  headers: { \r\n    authorization: authToken \r\n  }\r\n});\r\n\r\nexport default appDataApi;","import Api from \"./Api\";\r\n\r\nclass AppAuthApi extends Api {\r\n  signup(email, password) {\r\n    return this.fetchData({\r\n      relativePathFromBase: 'signup',\r\n      method: 'POST',\r\n      body: JSON.stringify({ email, password })\r\n    });\r\n  }\r\n\r\n  signin(email, password) {\r\n    return this.fetchData({\r\n      relativePathFromBase: 'signin',\r\n      method: 'POST',\r\n      body: JSON.stringify({ email, password })\r\n    });\r\n  }\r\n\r\n  getEmail(token) {\r\n    return this.fetchData({\r\n      relativePathFromBase: 'users/me',\r\n      additionalHeaderProps: {\r\n        'Authorization': `Bearer ${token}`\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst appAuthApi = new AppAuthApi({\r\n  baseUrl: 'https://register.nomoreparties.co',\r\n  headers: { \r\n    'Content-Type': 'application/json' \r\n  }\r\n});\r\n\r\nexport default appAuthApi;","export default __webpack_public_path__ + \"static/media/profile-avatar.5a8c9959.jpg\";","import React from 'react';\r\nimport { getInputErrors, getInputFieldErrorClassName } from '../utils/utils';\r\nimport Form from './Form';\r\n\r\nfunction RegisterOrLogin(props) {\r\n  const { \r\n    name, title, submitBtnText, onRegisterOrLogin, redirectionInfo, isRegisteringOrLoggingIn\r\n  } = props;\r\n\r\n  const [ email, setEmail ] = React.useState('');\r\n  const [ password, setPassword ] = React.useState('');\r\n  const [ errors, setErrors ] = React.useState({});\r\n\r\n  const fieldNames = {\r\n    email: 'user-email',\r\n    password: 'user-password'\r\n  };\r\n  const emailFieldErrorClassName = getInputFieldErrorClassName(\r\n    errors, \r\n    fieldNames.email, \r\n    true\r\n  );\r\n  const passwordFieldErrorClassName = getInputFieldErrorClassName(\r\n    errors,\r\n    fieldNames.password, \r\n    true\r\n  );\r\n\r\n  const hasInvalidInput = (  \r\n    errors.hasOwnProperty(fieldNames.email) ||\r\n    errors.hasOwnProperty(fieldNames.password)\r\n  );\r\n  const isSubmitBtnDisabled = (\r\n    hasInvalidInput ||\r\n    isRegisteringOrLoggingIn ||\r\n    email.trim() === '' || // necessary for when user has not entered a value for email\r\n    password.trim() === ''  // or for password\r\n  );\r\n  const submitBtnClassName = `project-form__submit-btn project-form__submit-btn_type_${name}` + \r\n  (isSubmitBtnDisabled ? ' project-form__submit-btn_disabled' : '');\r\n\r\n  \r\n  function validateInput(inputElement) {\r\n    setErrors(getInputErrors(errors, inputElement));\r\n  }\r\n\r\n  function handleInputChange({ target }) {\r\n    switch(target.name) {\r\n      case fieldNames.email:\r\n        setEmail(target.value);\r\n        break;\r\n      case fieldNames.password:\r\n        setPassword(target.value);\r\n        break;\r\n    }\r\n\r\n    validateInput(target);\r\n  }\r\n\r\n  function handleBlur({ target }) {\r\n    validateInput(target);\r\n  }\r\n\r\n  function handleRegisterOrLogin(evt) {\r\n    evt.preventDefault();\r\n    onRegisterOrLogin(email, password);\r\n  }\r\n\r\n  return (\r\n    <main className=\"project-reg-and-login-form-container\">\r\n      <Form\r\n        name={name}\r\n        title={title}\r\n        submitBtnText={submitBtnText}\r\n        submitBtnClassName={submitBtnClassName}\r\n        isSubmitBtnDisabled={isSubmitBtnDisabled}\r\n        onSubmit={handleRegisterOrLogin}\r\n      >\r\n        <div className=\"project-form__field-wrapper project-form__field-wrapper_form_user-reg-and-login\">\r\n          <input \r\n            type=\"email\"\r\n            aria-label=\"Email\"\r\n            name={fieldNames.email}\r\n            className={\"project-form__input project-form__input_type_user-reg-and-login-field\"}\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={handleInputChange}\r\n            onBlur={handleBlur}\r\n            required\r\n          />\r\n          <p className={emailFieldErrorClassName}>{errors[fieldNames.email]}</p>\r\n        </div>\r\n        <div className=\"project-form__field-wrapper project-form__field-wrapper_form_user-reg-and-login\">\r\n          <input\r\n            type=\"password\"\r\n            aria-label=\"Password\"\r\n            name={fieldNames.password}\r\n            className=\"project-form__input project-form__input_type_user-reg-and-login-field\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={handleInputChange}\r\n            onBlur={handleBlur}\r\n            required\r\n          />\r\n          <p className={passwordFieldErrorClassName}>{errors[fieldNames.password]}</p>\r\n        </div>\r\n      </Form>\r\n      <p className=\"project-reg-and-login-form-container__redirection-info\">\r\n        {redirectionInfo}\r\n      </p>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default RegisterOrLogin;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport RegisterOrLogin from './RegisterOrLogin';\r\n\r\nfunction Register(props) {\r\n  const { onRegister, isRegistering, onRegistrationPage } = props;\r\n  React.useEffect(() => {\r\n    onRegistrationPage(true);\r\n    return () => onRegistrationPage(false);\r\n  }, []);\r\n  const redirectionInfo = (\r\n    <>\r\n      Already a member? Log in {\" \"}\r\n      <Link to=\"/signin\" className=\"project-reg-and-login-form-container__link\">\r\n        here\r\n      </Link>!\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <RegisterOrLogin\r\n      name=\"user-reg-and-login\"\r\n      title=\"Sign up\"\r\n      submitBtnText={isRegistering ? 'Signing up' : 'Sign up'}\r\n      redirectionInfo={redirectionInfo}\r\n      isRegisteringOrLoggingIn={isRegistering}\r\n      onRegisterOrLogin={onRegister}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nimport Popup from './Popup';\r\n\r\nfunction InfoTooltip(props) {\r\n  const { iconType, description, isOpen, onClose } = props;\r\n  return (\r\n    <Popup name=\"registration\" isOpen={isOpen} onClose={onClose}>\r\n      <div className=\"info-tooltip\">\r\n        <div className={`info-tooltip__icon info-tooltip__icon_type_${iconType}`}></div>\r\n        <p className=\"info-tooltip__description\">{description}</p>\r\n      </div>\r\n    </Popup>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport RegisterOrLogin from './RegisterOrLogin';\r\n\r\nfunction Login(props) {\r\n  const { isLoggingIn, onLogin, onLoginPage } = props;\r\n  React.useEffect(() => {\r\n    onLoginPage(true);\r\n    return () => onLoginPage(false);\r\n  }, []);\r\n  const redirectionInfo = (\r\n    <>\r\n      Not a member yet? Sign up {\" \"}\r\n      <Link to=\"/signup\" className=\"project-reg-and-login-form-container__link\">\r\n        here\r\n      </Link>!\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <RegisterOrLogin \r\n      name=\"user-reg-and-login\"\r\n      title=\"Log in\"\r\n      submitBtnText={isLoggingIn ? 'Logging in' : 'Log in'}\r\n      isRegisteringOrLoggingIn={isLoggingIn} \r\n      redirectionInfo={redirectionInfo}\r\n      onRegisterOrLogin={onLogin}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nfunction ProtectedRoute(props) {\r\n  const { Component, ...otherPropsGiven } = props;\r\n  const { path, isLoggedIn } = otherPropsGiven;\r\n\r\n  return (\r\n    <Route path={path}>\r\n      {\r\n        () => isLoggedIn ? <Component {...otherPropsGiven} /> : <Redirect to=\"/signin\" />\r\n      }\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport { Switch, Route, useHistory, Redirect } from 'react-router-dom';\r\n\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport ConfirmationPromptPopup from './ConfirmationPromptPopup.js';\r\n\r\nimport appDataApi from '../utils/appDataApi.js';\r\nimport appAuthApi from '../utils/appAuthApi.js';\r\nimport { logErrors } from '../utils/utils.js';\r\n\r\nimport defaultAvatar from '../images/profile-avatar.jpg';\r\n\r\nimport Register from './Register.js';\r\nimport InfoTooltip from './InfoTooltip.js';\r\nimport Login from './Login.js';\r\nimport ProtectedRoute from './ProtectedRoute.js';\r\n\r\nfunction App() {\r\n  const [ isEditProfilePopupOpen, setIsEditProfilePopupOpen ]  = React.useState(false);\r\n  const [ isAddPlacePopupOpen, setIsAddPlacePopupOpen ] = React.useState(false);\r\n  const [ isEditAvatarPopupOpen, setIsEditAvatarPopupOpen ] = React.useState(false);\r\n  const [ selectedCard, setSelectedCard ] = React.useState({ _id: null, link: '#',  name: '' });\r\n  const [ currentUser, setCurrentUser ] = React.useState({\r\n    name: 'Jacques Cousteau',\r\n    about: 'Explorer',\r\n    avatar: defaultAvatar,\r\n    _id: null\r\n  });\r\n  const [ cards, setCards ] = React.useState([]);\r\n  const [ idOfCardToBeDeleted, setIdOfCardToBeDeleted ] = React.useState(null);\r\n  const [ isUpdatingAvatar, setIsUpdatingAvatar ] = React.useState(false);\r\n  const [ isUpdatingProfile, setIsUpdatingProfile ] = React.useState(false);\r\n  const [ isCreatingPlace, setIsCreatingPlace ] = React.useState(false);\r\n  const [ isDeletingAfterConfirming, setIsDeletingAfterConfirming ] = React.useState(false);\r\n  const [ userEmail, setUserEmail ] = React.useState('');\r\n  const [ isRegistrationError, setIsRegistrationError ] = React.useState(false);\r\n  const [ isRegistrationSuccess, setIsRegistrationSuccess ] = React.useState(false);\r\n  const [ isRegistering, setIsRegistering ] = React.useState(false);\r\n  const [ isUserOnRegistrationPage, setIsUserOnRegistrationPage ] = React.useState(false);\r\n  const [ isLoggingIn, setIsLoggingIn ] = React.useState(false);\r\n  const [ isLoggedIn, setIsLoggedIn ] = React.useState(false);\r\n  const [ isUserOnLoginPage, setIsUserOnLoginPage ] = React.useState(false);\r\n\r\n  const isOpen = (\r\n    isEditAvatarPopupOpen || \r\n    isEditProfilePopupOpen || \r\n    isAddPlacePopupOpen || \r\n    idOfCardToBeDeleted || /* for confirmation popup */\r\n    selectedCard._id    ||  /* for image popup */\r\n    isRegistrationSuccess ||\r\n    isRegistrationError\r\n  );\r\n\r\n  const history = useHistory();\r\n\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIdOfCardToBeDeleted(null);\r\n    setSelectedCard({ ...selectedCard, _id: null });\r\n    setIsRegistrationError(false);\r\n    setIsRegistrationSuccess(false);\r\n  }\r\n\r\n  function handleClosingAllPopupsUsingEscKey(evt) {\r\n    if(evt.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n\r\n  React.useEffect(() => { // using approach similar to earlier sprints\r\n    if(isOpen) {\r\n      document.addEventListener('keydown', handleClosingAllPopupsUsingEscKey);\r\n    } else {\r\n      document.removeEventListener('keydown', handleClosingAllPopupsUsingEscKey);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  React.useEffect(() => {\r\n    appDataApi.getUserProfile()\r\n      .then(setCurrentUser)\r\n      .catch(logErrors);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    appDataApi.getInitialCards()\r\n      .then(setCards)\r\n      .catch(logErrors);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    const token = localStorage.getItem('jwt');\r\n    if(token != undefined) {\r\n      setIsLoggedIn(true);\r\n      appAuthApi.getEmail(token)\r\n        .then(({ data: { email }}) => setUserEmail(email))\r\n        .catch(logErrors);\r\n    }\r\n  }, []);\r\n\r\n\r\n  function handleCardLike(clickedCardId, isClickedCardLikedAlreadyByUser) {\r\n    appDataApi.updateCardLikes(clickedCardId, !isClickedCardLikedAlreadyByUser)\r\n      .then((updatedCard) => {\r\n        const updatedCards = cards.map((card) => card._id === clickedCardId ? updatedCard : card);\r\n        setCards(updatedCards);\r\n      })\r\n      .catch(logErrors);\r\n  }\r\n\r\n  function handleCardDelete(id) {\r\n    setIdOfCardToBeDeleted(id);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardSelect(cardId, cardName, cardLink) {\r\n    setSelectedCard({\r\n      _id: cardId,\r\n      name: cardName, \r\n      link: cardLink\r\n    });\r\n  }\r\n\r\n  function handleUpdateUser(name, about) {\r\n    setIsUpdatingProfile(true);\r\n    appDataApi.updateUserProfile(name, about)\r\n      .then(setCurrentUser)\r\n      .catch(logErrors)\r\n      .finally(() => {\r\n        closeAllPopups();\r\n        setIsUpdatingProfile(false);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    setIsUpdatingAvatar(true);\r\n    appDataApi.updateUserAvatar(avatar)\r\n      .then(setCurrentUser)\r\n      .catch(logErrors)\r\n      .finally(() => {\r\n        closeAllPopups();\r\n        setIsUpdatingAvatar(false);\r\n      });\r\n  }\r\n\r\n  function handleAddPlace(name, link) {\r\n    setIsCreatingPlace(true);\r\n    appDataApi.createCard(name, link)\r\n      .then((newCard) => setCards([newCard, ...cards]))\r\n      .catch(logErrors)\r\n      .finally(() => {\r\n        closeAllPopups();\r\n        setIsCreatingPlace(false);\r\n      });\r\n  }\r\n\r\n  function handleConfirmation() {\r\n    setIsDeletingAfterConfirming(true);\r\n    appDataApi.deleteCard(idOfCardToBeDeleted)\r\n      .then((data) => {\r\n        console.log('returned:', data);\r\n        const updatedCards = cards.filter((aCard) => aCard._id !== idOfCardToBeDeleted);\r\n        setCards(updatedCards);\r\n      })\r\n      .catch(logErrors)\r\n      .finally(() => {\r\n        closeAllPopups();\r\n        setIsDeletingAfterConfirming(false);\r\n      });\r\n  }\r\n\r\n  function handleRegisterClick(email, password) { \r\n    setIsRegistering(true);\r\n    appAuthApi.signup(email, password)\r\n      .then((data) => {\r\n        setIsRegistrationSuccess(true);\r\n        history.push('/signin');\r\n      })\r\n      .catch((err) => {\r\n        logErrors(err);\r\n        setIsRegistrationError(true);\r\n      }).finally(() => setIsRegistering(false));\r\n  }\r\n\r\n  function handleLoginClick(email, password) {\r\n    setIsLoggingIn(true);\r\n    appAuthApi.signin(email, password)\r\n      .then(({ token }) => {\r\n        localStorage.setItem('jwt', token);\r\n        setUserEmail(email);\r\n        setIsLoggedIn(true);\r\n        history.push('/');\r\n      })\r\n      .catch((err) => {\r\n        logErrors(err);\r\n      }).finally(() => setIsLoggingIn(false));\r\n  }\r\n\r\n  function handleSignOut() {\r\n    localStorage.removeItem('jwt');\r\n    setIsLoggedIn(false);\r\n    setUserEmail('');\r\n    history.push('/signin');\r\n  }\r\n\r\n  function redirectWhenUserIsLoggedIn(Component, props) {\r\n    if(isLoggedIn) {\r\n      return <Redirect to=\"/\" /> \r\n    } else {\r\n      return <Component {...props} />\r\n    }\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header \r\n          isUserLoggedIn={isLoggedIn} \r\n          userEmail={userEmail}\r\n          isUserOnLoginPage={isUserOnLoginPage}\r\n          isUserOnRegistrationPage={isUserOnRegistrationPage}\r\n          onSignOut={handleSignOut}\r\n        />\r\n        \r\n        <Switch>\r\n          {/* Logged in users should not be able to visit the login and registration routes. */}\r\n          <Route path=\"/signin\">\r\n            {\r\n              redirectWhenUserIsLoggedIn(Login, {\r\n                onLogin: handleLoginClick, \r\n                isLoggingIn: isLoggingIn,\r\n                onLoginPage: setIsUserOnLoginPage\r\n              })\r\n            }\r\n          </Route>\r\n\r\n          <Route path=\"/signup\">\r\n            {\r\n              redirectWhenUserIsLoggedIn(Register, {\r\n                onRegister: handleRegisterClick,\r\n                isRegistering: isRegistering,\r\n                onRegistrationPage: setIsUserOnRegistrationPage                \r\n              })\r\n            }\r\n          </Route>\r\n\r\n          {/* Users not logged in should only be able to login or register */}\r\n          <ProtectedRoute \r\n            Component={Main}\r\n            path=\"/\"\r\n            isLoggedIn={isLoggedIn}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardDelete={handleCardDelete} \r\n            onCardSelect={handleCardSelect}\r\n            onCardLike={handleCardLike}\r\n            cards={cards}\r\n          />\r\n        </Switch>\r\n        <Footer />\r\n\r\n        {/* \r\n          Since only certain components are relevant depending on whether the user \r\n          is logged in, there is little need to have irrelevant components be\r\n          visible through devtools. Helps in security by limiting HTML manipulation.\r\n        */}\r\n        { isLoggedIn && (\r\n          <>\r\n            <EditProfilePopup \r\n              isOpen={isEditProfilePopupOpen}\r\n              onClose={closeAllPopups} \r\n              onUpdateUser={handleUpdateUser} \r\n              isUpdatingProfile={isUpdatingProfile} \r\n            />\r\n\r\n            <AddPlacePopup \r\n              isOpen={isAddPlacePopupOpen} \r\n              onClose={closeAllPopups} \r\n              onAddPlace={handleAddPlace} \r\n              isCreatingPlace={isCreatingPlace} \r\n            />\r\n\r\n            <ConfirmationPromptPopup \r\n              isOpen={idOfCardToBeDeleted !== null} \r\n              onClose={closeAllPopups} \r\n              onConfirmation={handleConfirmation} \r\n              isDeletingAfterConfirming={isDeletingAfterConfirming} \r\n            />\r\n              \r\n            <EditAvatarPopup \r\n              isOpen={isEditAvatarPopupOpen} \r\n              onClose={closeAllPopups} \r\n              onUpdateAvatar={handleUpdateAvatar} \r\n              isUpdatingAvatar={isUpdatingAvatar} \r\n            />\r\n\r\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n          </>\r\n        )}\r\n\r\n\r\n        <InfoTooltip \r\n          iconType=\"success\" \r\n          description=\"Success! You have now been registered.\"\r\n          isOpen={isRegistrationSuccess}\r\n          onClose={closeAllPopups}\r\n        />\r\n        <InfoTooltip \r\n          iconType=\"error\" \r\n          description=\"Oops, something went wrong! Please try again.\"\r\n          isOpen={isRegistrationError}\r\n          onClose={closeAllPopups}\r\n        />\r\n        \r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n/*\r\n  Note:\r\n  - All popups can be closed using close button, ESC key, and clicking on overlay (and not \r\n    its contents)\r\n  - forms operate as follows\r\n    - submit button is disabled when having invalid inputs, submitting, and closing  form popups\r\n    - input errors are shown when inputs are invalid and are hidden when closing the form popups\r\n      and shown when opening\r\n    - when closing form popup, input fields are not reset, but they cleared when \r\n      submitting (except for profile form to update user name and description)\r\n    - text change on submit button to show the user that information is being saved (except\r\n      when deleting cards)\r\n    - when deleting card, the user is asked to confirm first.\r\n*/","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename=\"/iwterry/react-around-auth\">\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}